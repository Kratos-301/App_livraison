{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\krato\\\\Desktop\\\\app_livraison\\\\frontend\\\\src\\\\livreur\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport Header from '../Lheader/Header';\nimport { io } from 'socket.io-client';\nimport { MapContainer, TileLayer, Marker, Polyline } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport '../styles/barre.css';\nimport '../styles/acc-livreur.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Accueil = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [commandes, setCommandes] = useState([]);\n  const [gpsPosition, setGpsPosition] = useState({\n    latitude: null,\n    longitude: null\n  });\n  const [showGpsAlert, setShowGpsAlert] = useState(false);\n  const [startTime, setStartTime] = useState(null);\n  const [elapsedTime, setElapsedTime] = useState(0);\n  const socket = useRef(null);\n  const timer = useRef(null);\n  useEffect(() => {\n    axios.get('http://localhost:3000/api/commande/accueil', {\n      withCredentials: true\n    }).then(res => {\n      setUser(res.data.user);\n      setCommandes(res.data.commandes);\n    }).catch(console.error);\n  }, []);\n  useEffect(() => {\n    socket.current = io('http://localhost:3000');\n    socket.current.on('commandeCreated', () => window.location.reload());\n    socket.current.on('commandeConfirmed', () => window.location.reload());\n    socket.current.on('update', () => window.location.reload());\n    socket.current.on('commandeAnnulee', data => {\n      alert(data.message);\n      window.location.reload();\n    });\n    return () => socket.current.disconnect();\n  }, []);\n  useEffect(() => {\n    const updateGPS = () => {\n      navigator.geolocation.getCurrentPosition(pos => {\n        const {\n          latitude,\n          longitude\n        } = pos.coords;\n        setGpsPosition({\n          latitude,\n          longitude\n        });\n        setShowGpsAlert(false);\n        axios.post('http://localhost:3000/api/livreur/updatePosition', {\n          latitude_li: latitude,\n          longitude_li: longitude\n        }, {\n          withCredentials: true\n        });\n      }, err => {\n        console.warn(\"Erreur GPS :\", err.message);\n        setShowGpsAlert(true);\n      });\n    };\n    updateGPS();\n    const interval = setInterval(updateGPS, 5000);\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    if (startTime) {\n      timer.current = setInterval(() => {\n        setElapsedTime(Math.floor((Date.now() - startTime) / 1000));\n      }, 1000);\n    }\n    return () => clearInterval(timer.current);\n  }, [startTime]);\n  const activeCommande = commandes.find(cmd => cmd.statut === 1 && cmd.statut_2 === 0 && cmd.statut_3 === 0);\n  const acceptedCommande = commandes.find(cmd => cmd.statut === 1 && cmd.statut_2 === 1 && cmd.statut_3 === 0);\n  const handleAccept = cmdId => {\n    axios.post(`http://localhost:3000/api/commande/confirm/${cmdId}`, {}, {\n      withCredentials: true\n    }).then(() => {\n      setStartTime(Date.now());\n      socket.current.emit('commandeConfirmed', {\n        commandeId: cmdId\n      });\n      window.location.reload();\n    }).catch(console.error);\n  };\n  const handleCancel = cmdId => {\n    if (window.confirm('Annuler cette commande ?')) {\n      axios.post(`/commande/annuler/${cmdId}`, {}, {\n        withCredentials: true\n      }).then(() => {\n        socket.current.emit('commandeAnnulee', {\n          commandeId: cmdId\n        });\n        window.location.reload();\n      }).catch(console.error);\n    }\n  };\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\n    if (!lat1 || !lon1 || !lat2 || !lon2) return 0;\n    const toRad = value => value * Math.PI / 180;\n    const R = 6371;\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) ** 2 + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return (R * c).toFixed(2);\n  };\n  if (!user) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Chargement...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mes-barre\",\n      children: /*#__PURE__*/_jsxDEV(Header, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      id: \"continer\",\n      children: [showGpsAlert && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger text-center\",\n        children: \"\\u26A0\\uFE0F Veuillez activer votre GPS pour continuer.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), !activeCommande && !acceptedCommande && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-secondary text-center\",\n        children: \"Aucune demande de livraison en cours\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), activeCommande && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"commande-attente\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Nouvelle demande de livraison\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Client:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 16\n          }, this), \" \", activeCommande.client_nom]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Contact:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 16\n          }, this), \" \", activeCommande.client_num]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"En attente de votre d\\xE9cision...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success m-2\",\n          onClick: () => handleAccept(activeCommande.id),\n          children: \"Accepter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger m-2\",\n          onClick: () => handleCancel(activeCommande.id),\n          children: \"Annuler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this), acceptedCommande && gpsPosition.latitude && gpsPosition.longitude && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"commande-accept\\xE9e\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Commande en cours\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n          center: [gpsPosition.latitude, gpsPosition.longitude],\n          zoom: 15,\n          style: {\n            height: '400px',\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n            url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n            attribution: \"\\xA9 OpenStreetMap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Marker, {\n            position: [gpsPosition.latitude, gpsPosition.longitude]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Marker, {\n            position: [acceptedCommande.latitude, acceptedCommande.longitude]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n            positions: [[gpsPosition.latitude, gpsPosition.longitude], [acceptedCommande.latitude, acceptedCommande.longitude]],\n            color: \"blue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Distance restante : \", calculateDistance(gpsPosition.latitude, gpsPosition.longitude, acceptedCommande.latitude, acceptedCommande.longitude), \" km\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Temps \\xE9coul\\xE9 : \", Math.floor(elapsedTime / 60), \" min \", elapsedTime % 60, \" s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Accueil, \"JSSrO7uAELmZJk9gNcgBI11vBsI=\");\n_c = Accueil;\nexport default Accueil;\nvar _c;\n$RefreshReg$(_c, \"Accueil\");","map":{"version":3,"names":["React","useEffect","useState","useRef","axios","Header","io","MapContainer","TileLayer","Marker","Polyline","jsxDEV","_jsxDEV","Fragment","_Fragment","Accueil","_s","user","setUser","commandes","setCommandes","gpsPosition","setGpsPosition","latitude","longitude","showGpsAlert","setShowGpsAlert","startTime","setStartTime","elapsedTime","setElapsedTime","socket","timer","get","withCredentials","then","res","data","catch","console","error","current","on","window","location","reload","alert","message","disconnect","updateGPS","navigator","geolocation","getCurrentPosition","pos","coords","post","latitude_li","longitude_li","err","warn","interval","setInterval","clearInterval","Math","floor","Date","now","activeCommande","find","cmd","statut","statut_2","statut_3","acceptedCommande","handleAccept","cmdId","emit","commandeId","handleCancel","confirm","calculateDistance","lat1","lon1","lat2","lon2","toRad","value","PI","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","toFixed","children","fileName","_jsxFileName","lineNumber","columnNumber","className","id","client_nom","client_num","onClick","center","zoom","style","height","width","url","attribution","position","positions","color","_c","$RefreshReg$"],"sources":["C:/Users/krato/Desktop/app_livraison/frontend/src/livreur/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport Header from '../Lheader/Header';\r\nimport { io } from 'socket.io-client';\r\nimport { MapContainer, TileLayer, Marker, Polyline } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nimport '../styles/barre.css';\r\nimport '../styles/acc-livreur.css';\r\n\r\nconst Accueil = () => {\r\n  const [user, setUser] = useState(null);\r\n  const [commandes, setCommandes] = useState([]);\r\n  const [gpsPosition, setGpsPosition] = useState({ latitude: null, longitude: null });\r\n  const [showGpsAlert, setShowGpsAlert] = useState(false);\r\n  const [startTime, setStartTime] = useState(null);\r\n  const [elapsedTime, setElapsedTime] = useState(0);\r\n\r\n  const socket = useRef(null);\r\n  const timer = useRef(null);\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:3000/api/commande/accueil', { withCredentials: true })\r\n      .then(res => {\r\n        setUser(res.data.user);\r\n        setCommandes(res.data.commandes);\r\n      })\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.current = io('http://localhost:3000');\r\n\r\n    socket.current.on('commandeCreated', () => window.location.reload());\r\n    socket.current.on('commandeConfirmed', () => window.location.reload());\r\n    socket.current.on('update', () => window.location.reload());\r\n    socket.current.on('commandeAnnulee', (data) => {\r\n      alert(data.message);\r\n      window.location.reload();\r\n    });\r\n\r\n    return () => socket.current.disconnect();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const updateGPS = () => {\r\n      navigator.geolocation.getCurrentPosition(\r\n        pos => {\r\n          const { latitude, longitude } = pos.coords;\r\n          setGpsPosition({ latitude, longitude });\r\n          setShowGpsAlert(false);\r\n          axios.post('http://localhost:3000/api/livreur/updatePosition', {\r\n            latitude_li: latitude,\r\n            longitude_li: longitude\r\n          }, { withCredentials: true });\r\n        },\r\n        err => {\r\n          console.warn(\"Erreur GPS :\", err.message);\r\n          setShowGpsAlert(true);\r\n        }\r\n      );\r\n    };\r\n\r\n    updateGPS();\r\n    const interval = setInterval(updateGPS, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (startTime) {\r\n      timer.current = setInterval(() => {\r\n        setElapsedTime(Math.floor((Date.now() - startTime) / 1000));\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(timer.current);\r\n  }, [startTime]);\r\n\r\n  const activeCommande = commandes.find(cmd => cmd.statut === 1 && cmd.statut_2 === 0 && cmd.statut_3 === 0);\r\n  const acceptedCommande = commandes.find(cmd => cmd.statut === 1 && cmd.statut_2 === 1 && cmd.statut_3 === 0);\r\n\r\n  const handleAccept = (cmdId) => {\r\n    axios.post(`http://localhost:3000/api/commande/confirm/${cmdId}`, {}, { withCredentials: true })\r\n      .then(() => {\r\n        setStartTime(Date.now());\r\n        socket.current.emit('commandeConfirmed', { commandeId: cmdId });\r\n        window.location.reload();\r\n      })\r\n      .catch(console.error);\r\n  };\r\n\r\n  const handleCancel = (cmdId) => {\r\n    if (window.confirm('Annuler cette commande ?')) {\r\n      axios.post(`/commande/annuler/${cmdId}`, {}, { withCredentials: true })\r\n        .then(() => {\r\n          socket.current.emit('commandeAnnulee', { commandeId: cmdId });\r\n          window.location.reload();\r\n        })\r\n        .catch(console.error);\r\n    }\r\n  };\r\n\r\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\r\n    if (!lat1 || !lon1 || !lat2 || !lon2) return 0;\r\n    const toRad = value => (value * Math.PI) / 180;\r\n    const R = 6371;\r\n    const dLat = toRad(lat2 - lat1);\r\n    const dLon = toRad(lon2 - lon1);\r\n    const a = Math.sin(dLat / 2) ** 2 +\r\n      Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    return (R * c).toFixed(2);\r\n  };\r\n\r\n  if (!user) return <p>Chargement...</p>;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mes-barre\">\r\n        <Header user={user} />\r\n      </div>\r\n\r\n      <div className=\"main-content\" id=\"continer\">\r\n\r\n        {showGpsAlert && (\r\n          <div className=\"alert alert-danger text-center\">\r\n            ⚠️ Veuillez activer votre GPS pour continuer.\r\n          </div>\r\n        )}\r\n\r\n        {/* 1 - Pas de commande */}\r\n        {!activeCommande && !acceptedCommande && (\r\n          <div className=\"alert alert-secondary text-center\">Aucune demande de livraison en cours</div>\r\n        )}\r\n\r\n        {/* 2 - Commande en attente */}\r\n        {activeCommande && (\r\n          <div className=\"commande-attente\">\r\n            <h3>Nouvelle demande de livraison</h3>\r\n            <p><strong>Client:</strong> {activeCommande.client_nom}</p>\r\n            <p><strong>Contact:</strong> {activeCommande.client_num}</p>\r\n\r\n            <div className=\"loader-container\">\r\n              <div className=\"loader\"></div>\r\n              <p>En attente de votre décision...</p>\r\n            </div>\r\n\r\n            <button className=\"btn btn-success m-2\" onClick={() => handleAccept(activeCommande.id)}>Accepter</button>\r\n            <button className=\"btn btn-danger m-2\" onClick={() => handleCancel(activeCommande.id)}>Annuler</button>\r\n          </div>\r\n        )}\r\n\r\n        {/* 3 - Commande acceptée */}\r\n        {acceptedCommande && gpsPosition.latitude && gpsPosition.longitude && (\r\n          <div className=\"commande-acceptée\">\r\n            <h3>Commande en cours</h3>\r\n            <MapContainer center={[gpsPosition.latitude, gpsPosition.longitude]} zoom={15} style={{ height: '400px', width: '100%' }}>\r\n              <TileLayer\r\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                attribution=\"© OpenStreetMap\"\r\n              />\r\n              <Marker position={[gpsPosition.latitude, gpsPosition.longitude]} />\r\n              <Marker position={[acceptedCommande.latitude, acceptedCommande.longitude]} />\r\n              <Polyline positions={[\r\n                [gpsPosition.latitude, gpsPosition.longitude],\r\n                [acceptedCommande.latitude, acceptedCommande.longitude]\r\n              ]} color=\"blue\" />\r\n            </MapContainer>\r\n            <p>Distance restante : {calculateDistance(gpsPosition.latitude, gpsPosition.longitude, acceptedCommande.latitude, acceptedCommande.longitude)} km</p>\r\n            <p>Temps écoulé : {Math.floor(elapsedTime / 60)} min {elapsedTime % 60} s</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Accueil;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}