{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import axios from 'axios';\n// import Header from '../Header/Header'; // âœ… vers le bon dossier\n// import '../styles/barre.css';\n// import '../styles/attente.css';\n// import '../styles/accueil.css';\n\n// const Accueil = () => {\n//   const [user, setUser] = useState(null);\n//   const [commandes, setCommandes] = useState([]);\n//   const [livreurs, setLivreurs] = useState([]);\n\n//   useEffect(() => {\n//     axios.get('/api/commande/accueil')\n//       .then(res => {\n//         setUser(res.data.user);\n//         setCommandes(res.data.commandes);\n//         setLivreurs(res.data.livreurs);\n//       })\n//       .catch(console.error);\n//   }, []);\n\n//   if (!user) return <p>Chargeoooment...</p>;\n//   const [formVisible, setFormVisible] = useState(() => {\n//     return !commandes.some(cmd =>\n//       (cmd.statut === 1 && cmd.statut_2 === 0 && cmd.statut_3 === 0) ||\n//       (cmd.statut === 1 && cmd.statut_2 === 1 && cmd.statut_3 === 0)\n//     );\n//   });\n\n//   return (\n//     <div className=\"mes-barre\">\n//       <Header />\n\n//       <div className=\"main-content\" id=\"continer\">\n//         {formVisible && (\n//           <>\n//             <h1>Bienvenue {user.nom}</h1>\n//             <div className=\"all-form\" id=\"okjik\">\n//               <div id=\"zone-livreurs\">\n//                 <h3>Le livreurs</h3>\n//                 {livreurs.length === 0 ? (\n//                   <div className=\"alert alert-warning text-center\">\n//                     ðŸ›‘ Aucun livreur nâ€™est actuellement en ligne.\n//                   </div>\n//                 ) : (\n//                   livreurs.map(livreur => (\n//                     <form\n//                       key={livreur.id}\n//                       action=\"/commande/html/page/accueil\"\n//                       method=\"POST\"\n//                       className=\"commande-form\"\n//                     >\n//                       <div\n//                         id={`livreur-${livreur.id}`}\n//                         className={`livreur-card ${livreur.est_occupe ? 'occupe' : 'disponible'}`}\n//                       >\n//                         <img src=\"/assets/img/service-livraison-concept-masque.png\" alt=\"livreur\" />\n//                         <span className=\"livreur-nom\">{livreur.nom}</span>\n//                         <span>{livreur.marque_moto}</span>\n//                         <div className=\"commander\">\n//                           {livreur.est_occupe ? (\n//                             <span className=\"statut\" style={{ color: 'red' }}>\n//                               ðŸ”´ OccupÃ©\n//                             </span>\n//                           ) : (\n//                             <>\n//                               <input type=\"submit\" value=\"Commander\" />\n//                               <span className=\"statut\" style={{ color: 'green', display: 'block' }}>\n//                                 ðŸŸ¢ Disponible\n//                               </span>\n//                             </>\n//                           )}\n//                         </div>\n//                       </div>\n//                     </form>\n//                   ))\n//                 )}\n//               </div>\n//             </div>\n//           </>\n//         )}\n\n//         {/* Bloc dâ€™affichage des commandes */}\n//         {commandes.map(cmd => {\n//           const date = new Date(cmd.date_commande).toLocaleString();\n\n//           if (cmd.statut === 1 && cmd.statut_2 === 0 && cmd.statut_3 === 0) {\n//             return (\n//               <div key={cmd.id}>\n//                 <table className=\"table table-striped mt-4\">\n//                   <thead>\n//                     <tr><th>Livreur</th><th>Moto</th><th>Statut</th><th>Date</th><th>Action</th></tr>\n//                   </thead>\n//                   <tbody>\n//                     <tr>\n//                       <td>{cmd.livreur_nom}</td>\n//                       <td>{cmd.livreur_marque_moto}</td>\n//                       <td>En cours</td>\n//                       <td>{date}</td>\n//                       <td>\n//                         <form\n//                           action={`/commande/annuler/${cmd.id}`}\n//                           method=\"POST\"\n//                           onSubmit={() => confirm('Annuler ?')}\n//                         >\n//                           <button className=\"btn btn-danger btn-sm\">Annuler</button>\n//                         </form>\n//                       </td>\n//                     </tr>\n//                   </tbody>\n//                 </table>\n//                 <div className=\"loader-container\">\n//                   <div className=\"loader\"></div>\n//                   <p>En attente de validation par le livreur...</p>\n//                 </div>\n//               </div>\n//             );\n//           }\n\n//           // Autres Ã©tats Ã  gÃ©rer...\n//           return null;\n//         })}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Accueil;","map":{"version":3,"names":[],"sources":["C:/Users/krato/Desktop/app_livraison/frontend/src/client/pages/Accueil.jsx"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\r\n// import axios from 'axios';\r\n// import Header from '../Header/Header'; // âœ… vers le bon dossier\r\n// import '../styles/barre.css';\r\n// import '../styles/attente.css';\r\n// import '../styles/accueil.css';\r\n\r\n// const Accueil = () => {\r\n//   const [user, setUser] = useState(null);\r\n//   const [commandes, setCommandes] = useState([]);\r\n//   const [livreurs, setLivreurs] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     axios.get('/api/commande/accueil')\r\n//       .then(res => {\r\n//         setUser(res.data.user);\r\n//         setCommandes(res.data.commandes);\r\n//         setLivreurs(res.data.livreurs);\r\n//       })\r\n//       .catch(console.error);\r\n//   }, []);\r\n\r\n//   if (!user) return <p>Chargeoooment...</p>;\r\n//   const [formVisible, setFormVisible] = useState(() => {\r\n//     return !commandes.some(cmd =>\r\n//       (cmd.statut === 1 && cmd.statut_2 === 0 && cmd.statut_3 === 0) ||\r\n//       (cmd.statut === 1 && cmd.statut_2 === 1 && cmd.statut_3 === 0)\r\n//     );\r\n//   });\r\n\r\n//   return (\r\n//     <div className=\"mes-barre\">\r\n//       <Header />\r\n\r\n//       <div className=\"main-content\" id=\"continer\">\r\n//         {formVisible && (\r\n//           <>\r\n//             <h1>Bienvenue {user.nom}</h1>\r\n//             <div className=\"all-form\" id=\"okjik\">\r\n//               <div id=\"zone-livreurs\">\r\n//                 <h3>Le livreurs</h3>\r\n//                 {livreurs.length === 0 ? (\r\n//                   <div className=\"alert alert-warning text-center\">\r\n//                     ðŸ›‘ Aucun livreur nâ€™est actuellement en ligne.\r\n//                   </div>\r\n//                 ) : (\r\n//                   livreurs.map(livreur => (\r\n//                     <form\r\n//                       key={livreur.id}\r\n//                       action=\"/commande/html/page/accueil\"\r\n//                       method=\"POST\"\r\n//                       className=\"commande-form\"\r\n//                     >\r\n//                       <div\r\n//                         id={`livreur-${livreur.id}`}\r\n//                         className={`livreur-card ${livreur.est_occupe ? 'occupe' : 'disponible'}`}\r\n//                       >\r\n//                         <img src=\"/assets/img/service-livraison-concept-masque.png\" alt=\"livreur\" />\r\n//                         <span className=\"livreur-nom\">{livreur.nom}</span>\r\n//                         <span>{livreur.marque_moto}</span>\r\n//                         <div className=\"commander\">\r\n//                           {livreur.est_occupe ? (\r\n//                             <span className=\"statut\" style={{ color: 'red' }}>\r\n//                               ðŸ”´ OccupÃ©\r\n//                             </span>\r\n//                           ) : (\r\n//                             <>\r\n//                               <input type=\"submit\" value=\"Commander\" />\r\n//                               <span className=\"statut\" style={{ color: 'green', display: 'block' }}>\r\n//                                 ðŸŸ¢ Disponible\r\n//                               </span>\r\n//                             </>\r\n//                           )}\r\n//                         </div>\r\n//                       </div>\r\n//                     </form>\r\n//                   ))\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n//           </>\r\n//         )}\r\n\r\n//         {/* Bloc dâ€™affichage des commandes */}\r\n//         {commandes.map(cmd => {\r\n//           const date = new Date(cmd.date_commande).toLocaleString();\r\n\r\n//           if (cmd.statut === 1 && cmd.statut_2 === 0 && cmd.statut_3 === 0) {\r\n//             return (\r\n//               <div key={cmd.id}>\r\n//                 <table className=\"table table-striped mt-4\">\r\n//                   <thead>\r\n//                     <tr><th>Livreur</th><th>Moto</th><th>Statut</th><th>Date</th><th>Action</th></tr>\r\n//                   </thead>\r\n//                   <tbody>\r\n//                     <tr>\r\n//                       <td>{cmd.livreur_nom}</td>\r\n//                       <td>{cmd.livreur_marque_moto}</td>\r\n//                       <td>En cours</td>\r\n//                       <td>{date}</td>\r\n//                       <td>\r\n//                         <form\r\n//                           action={`/commande/annuler/${cmd.id}`}\r\n//                           method=\"POST\"\r\n//                           onSubmit={() => confirm('Annuler ?')}\r\n//                         >\r\n//                           <button className=\"btn btn-danger btn-sm\">Annuler</button>\r\n//                         </form>\r\n//                       </td>\r\n//                     </tr>\r\n//                   </tbody>\r\n//                 </table>\r\n//                 <div className=\"loader-container\">\r\n//                   <div className=\"loader\"></div>\r\n//                   <p>En attente de validation par le livreur...</p>\r\n//                 </div>\r\n//               </div>\r\n//             );\r\n//           }\r\n\r\n//           // Autres Ã©tats Ã  gÃ©rer...\r\n//           return null;\r\n//         })}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Accueil;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}